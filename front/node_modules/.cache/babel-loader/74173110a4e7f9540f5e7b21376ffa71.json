{"remainingRequest":"C:\\Users\\multicampus\\Desktop\\Sub PJT III\\s02p12b103\\fooddeuk\\front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\multicampus\\Desktop\\Sub PJT III\\s02p12b103\\fooddeuk\\front\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!C:\\Users\\multicampus\\Desktop\\Sub PJT III\\s02p12b103\\fooddeuk\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\multicampus\\Desktop\\Sub PJT III\\s02p12b103\\fooddeuk\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\multicampus\\Desktop\\Sub PJT III\\s02p12b103\\fooddeuk\\front\\src\\components\\common\\Request.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\multicampus\\Desktop\\Sub PJT III\\s02p12b103\\fooddeuk\\front\\src\\components\\common\\Request.vue","mtime":1581296585758},{"path":"C:\\Users\\multicampus\\Desktop\\Sub PJT III\\s02p12b103\\fooddeuk\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\Sub PJT III\\s02p12b103\\fooddeuk\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\Sub PJT III\\s02p12b103\\fooddeuk\\front\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\multicampus\\Desktop\\Sub PJT III\\s02p12b103\\fooddeuk\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\Sub PJT III\\s02p12b103\\fooddeuk\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkM6XFxVc2Vyc1xcbXVsdGljYW1wdXNcXERlc2t0b3BcXFN1YiBQSlQgSUlJXFxzMDJwMTJiMTAzXFxmb29kZGV1a1xcZnJvbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBodHRwIGZyb20gJy4uLy4uLy4uL2h0dHAtY29tbW9uJzsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCBWdWVNb21lbnRKUyBmcm9tICd2dWUtbW9tZW50anMnOwppbXBvcnQgeyBmaXJlREIgfSBmcm9tICcuLi8uLi9tYWluJzsKaW1wb3J0IEV2ZW50QnVzIGZyb20gJy4uLy4uL0V2ZW50QnVzJzsKaW1wb3J0IHsgZmlyZXN0b3JlIH0gZnJvbSAnZmlyZWJhc2UnOwpWdWUudXNlKFZ1ZU1vbWVudEpTLCBtb21lbnQpOwpleHBvcnQgZGVmYXVsdCB7CiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIG1vbWVudC5sb2NhbGUoJ2tvJyk7CgogICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJpbmZvICE9IG51bGwpIHsKICAgICAgdGhpcy5lbWFpbCA9IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJpbmZvLmVtYWlsOwogICAgICB0aGlzLm5pY2tuYW1lID0gdGhpcy4kc3RvcmUuc3RhdGUudXNlcmluZm8ubmlja05hbWU7CiAgICB9IC8vIHRoaXMuZ2V0QWxhcm1zKCk7CgoKICAgIHRoaXMud2F0Y2hBbGFybUZyb21GaXJlYmFzZSgpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZW1pdFJlcXVlc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGVtaXRSZXF1ZXN0OiBmdW5jdGlvbiBlbWl0UmVxdWVzdCgpIHsKICAgICAgdmFyIHdob2FtaSA9IHRoaXM7CiAgICAgIEV2ZW50QnVzLiRvbignZW1pdFJlcXVlc3QnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gYWxlcnQoImVtaXRSZXF1ZXN0IOqwkOyngCIpCiAgICAgICAgd2hvYW1pLmdldEFsYXJtcygpOwogICAgICB9KTsKICAgIH0sCiAgICBzZXRBbGFybTogZnVuY3Rpb24gc2V0QWxhcm0oYWxhcm0pIHsKICAgICAgdGhpcy5hbGFybUNvdW50ID0gYWxhcm07CiAgICB9LAogICAgdXBBbGFybVRvRmlyZWJhc2U6IGZ1bmN0aW9uIHVwQWxhcm1Ub0ZpcmViYXNlKGVtYWlsKSB7CiAgICAgIGZpcmVEQi5jb2xsZWN0aW9uKCdBbGFybScpLmRvYyhlbWFpbCkudXBkYXRlKHsKICAgICAgICBjb3VudDogZmlyZXN0b3JlLkZpZWxkVmFsdWUuaW5jcmVtZW50KDEpCiAgICAgIH0pOwogICAgfSwKICAgIGRvd25BbGFybVRvRmlyZWJhc2U6IGZ1bmN0aW9uIGRvd25BbGFybVRvRmlyZWJhc2UoKSB7CiAgICAgIC8vIGFsZXJ0KCJkb3duIikKICAgICAgZmlyZURCLmNvbGxlY3Rpb24oJ0FsYXJtJykuZG9jKHRoaXMuZW1haWwpLnNldCh7CiAgICAgICAgY291bnQ6IHRoaXMuYWxhcm1Db3VudCAtIDEKICAgICAgfSk7CiAgICB9LAogICAgd2F0Y2hBbGFybUZyb21GaXJlYmFzZTogZnVuY3Rpb24gd2F0Y2hBbGFybUZyb21GaXJlYmFzZSgpIHsKICAgICAgdmFyIHdob2FtaSA9IHRoaXM7CiAgICAgIHZhciBjb3VudCA9IDA7CiAgICAgIGZpcmVEQi5jb2xsZWN0aW9uKCdBbGFybScpLmRvYyh0aGlzLmVtYWlsKS5vblNuYXBzaG90KHsKICAgICAgICBpbmNsdWRlTWV0YWRhdGFDaGFuZ2VzOiB0cnVlCiAgICAgIH0sIGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICBpZiAoZG9jLmRhdGEoKSA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGNvdW50ID0gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY291bnQgPSBkb2MuZGF0YSgpLmNvdW50OwogICAgICAgIH0KCiAgICAgICAgd2hvYW1pLnNldEFsYXJtKGNvdW50KTsKICAgICAgICB3aG9hbWkuZ2V0QWxhcm1zKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFRpbWU6IGZ1bmN0aW9uIGdldFRpbWUodGltZSkgewogICAgICByZXR1cm4gbW9tZW50KHRpbWUpLmZyb21Ob3coKTsKICAgIH0sCiAgICBnZXRBbGFybXM6IGZ1bmN0aW9uIGdldEFsYXJtcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGh0dHAuZ2V0KCIvZm9sbG93L3JlcXVlc3RsaXN0P215bmlja25hbWU9IiArIHRoaXMubmlja25hbWUpLnRoZW4oZnVuY3Rpb24gKFJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuaXRlbXMgPSBSZXNwb25zZS5kYXRhOyAvLyBjb25zb2xlLmxvZyhSZXNwb25zZS5kYXRhKQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoRXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhFcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFVzZXJCeU5pY2tuYW1lOiBmdW5jdGlvbiBnZXRVc2VyQnlOaWNrbmFtZShuaWNrKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZm9ybS5hcHBlbmQoJ25pY2tuYW1lJywgbmljayk7CiAgICAgIGh0dHAuZ2V0KCIvdXNlci91c2VyaW5mby97bmlja25hbWV9P25pY2tuYW1lPSIgKyBuaWNrKS50aGVuKGZ1bmN0aW9uIChSZXNwb25zZSkgewogICAgICAgIHZhciBvdGhlckVtYWlsID0gUmVzcG9uc2UuZGF0YS5lbWFpbDsKCiAgICAgICAgX3RoaXMyLnVwQWxhcm1Ub0ZpcmViYXNlKG90aGVyRW1haWwpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoRXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhFcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGFjY2VwdDogZnVuY3Rpb24gYWNjZXB0KG51bSwgb3RoZXJOaWNrbmFtZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm0uYXBwZW5kKCdudW0nLCBudW0pOwogICAgICBmb3JtLmFwcGVuZCgnbmlja25hbWUnLCB0aGlzLm5pY2tuYW1lKTsKICAgICAgZm9ybS5hcHBlbmQoJ215bmlja25hbWUnLCBvdGhlck5pY2tuYW1lKTsKICAgICAgZm9ybS5hcHBlbmQoJ2FncmVlJywgJzEnKTsKICAgICAgaHR0cC5wb3N0KCIvZm9sbG93L2ZvbGxvd2FncmVlIiwgZm9ybSkudGhlbihmdW5jdGlvbiAoUmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMuaXNmb2xsb3cgPSAxOyAvLyBjb25zb2xlLmxvZyhSZXNwb25zZS5kYXRhKQoKICAgICAgICBfdGhpczMuZ2V0QWxhcm1zKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChFcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKEVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgZGVueTogZnVuY3Rpb24gZGVueShudW0sIG90aGVyTmlja25hbWUpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtLmFwcGVuZCgnbnVtJywgbnVtKTsKICAgICAgZm9ybS5hcHBlbmQoJ25pY2tuYW1lJywgdGhpcy5uaWNrbmFtZSk7CiAgICAgIGZvcm0uYXBwZW5kKCdteW5pY2tuYW1lJywgb3RoZXJOaWNrbmFtZSk7CiAgICAgIGZvcm0uYXBwZW5kKCdhZ3JlZScsICcwJyk7CiAgICAgIGh0dHAucG9zdCgiL2ZvbGxvdy9mb2xsb3dhZ3JlZSIsIGZvcm0pLnRoZW4oZnVuY3Rpb24gKFJlc3BvbnNlKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coUmVzcG9uc2UuZGF0YSkKICAgICAgICBfdGhpczQuZ2V0QWxhcm1zKCk7CgogICAgICAgIF90aGlzNC5kb3duQWxhcm1Ub0ZpcmViYXNlKCk7CgogICAgICAgIF90aGlzNC5nZXRVc2VyQnlOaWNrbmFtZShvdGhlck5pY2tuYW1lKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKEVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coRXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbWFpbDogJycsCiAgICAgIG5pY2tuYW1lOiAnJywKICAgICAgaXRlbXM6IFtdLAogICAgICBhbGFybUNvdW50OiAwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsndXNlcmluZm8nXSkpCn07"},{"version":3,"sources":["Request.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <v-card\r\n    class=\"mx-auto\"\r\n  >\r\n    <div v-if=\"items.length==0\">\r\n      요청이 없습니다.\r\n    </div>\r\n    <v-list v-if=\"items.length!=0\" three-line>\r\n      <template  v-for=\"(item, index) in items\">\r\n        <v-subheader\r\n          v-if=\"item.header\"\r\n          :key=\"item.header\"\r\n          v-text=\"item.header\"\r\n        ></v-subheader>\r\n\r\n        <v-divider\r\n          v-else-if=\"item.divider\"\r\n          :key=\"index\"\r\n          :inset=\"item.inset\"\r\n        ></v-divider>\r\n\r\n        <v-list-item\r\n          v-else\r\n          :key=\"item.title\"\r\n        >\r\n          <v-list-item-avatar>\r\n            <v-img :src=\"item.avatar\"></v-img>\r\n          </v-list-item-avatar>\r\n\r\n          <v-list-item-content style=\"margin-left:20px;\">\r\n            <v-list-item-title>\"{{item.sender}}\"님이 팔로우 신청을 했습니다.</v-list-item-title>\r\n            <v-list-item-subtitle>{{getTime(item.date)}}</v-list-item-subtitle>\r\n            <v-btn small dark style=\"margin-right:20px; background-color:#a4c2f4ff; color:#ffffff\" @click=\"accept(item.num, item.sender)\">승인</v-btn>\r\n            <v-btn small dark style=\"background-color:#e06666ff; color:#ffffff\" @click=\"deny(item.num, item.sender)\">거절</v-btn>\r\n          </v-list-item-content>\r\n        </v-list-item>\r\n      </template>\r\n    </v-list>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\n  import {mapState} from 'vuex';\r\n  import http from '../../../http-common'\r\n  import Vue from 'vue'\r\n  import moment from 'moment'\r\n  import VueMomentJS from 'vue-momentjs'\r\n  import { fireDB } from '../../main';\r\n  import EventBus from '../../EventBus'\r\n  import { firestore } from 'firebase';\r\n\r\n  Vue.use(VueMomentJS, moment)\r\n\r\n\r\n  export default {\r\n    created()  {\r\n      moment.locale('ko');\r\n      if(this.$store.state.userinfo!=null) {\r\n        this.email = this.$store.state.userinfo.email;\r\n        this.nickname = this.$store.state.userinfo.nickName;\r\n      }\r\n      // this.getAlarms();\r\n      this.watchAlarmFromFirebase();\r\n    },\r\n    mounted : function() {\r\n      this.emitRequest();\r\n    },\r\n    methods : {\r\n      emitRequest() {\r\n        let whoami = this;\r\n        EventBus.$on('emitRequest', function() {\r\n          // alert(\"emitRequest 감지\")\r\n          whoami.getAlarms();\r\n        })\r\n      },\r\n      setAlarm(alarm) {\r\n        this.alarmCount = alarm;\r\n      },\r\n      upAlarmToFirebase(email) {\r\n        fireDB.collection('Alarm').doc(email)\r\n        .update({\r\n          count : firestore.FieldValue.increment(1)\r\n        })\r\n      },\r\n      downAlarmToFirebase() {\r\n        // alert(\"down\")\r\n        fireDB.collection('Alarm').doc(this.email)\r\n        .set({\r\n          count : this.alarmCount - 1\r\n        })\r\n      },\r\n      watchAlarmFromFirebase() {\r\n          let whoami = this;\r\n          let count=0;\r\n          fireDB.collection('Alarm').doc(this.email).onSnapshot( {\r\n              includeMetadataChanges: true    \r\n          },function(doc) {\r\n              if(doc.data()==undefined) {\r\n                  count = 0;\r\n              } else {\r\n                  count = doc.data().count;\r\n              }\r\n              whoami.setAlarm(count);\r\n              whoami.getAlarms();\r\n          })\r\n      },\r\n      getTime(time) {\r\n        return moment(time).fromNow();\r\n      },\r\n      getAlarms() {\r\n        http.get(\"/follow/requestlist?mynickname=\" + this.nickname)\r\n        .then(Response => {\r\n          this.items = Response.data\r\n          // console.log(Response.data)\r\n        })\r\n        .catch(Error => {\r\n            console.log(Error)\r\n        })\r\n      },\r\n      getUserByNickname(nick) {\r\n          let form = new FormData()\r\n          form.append('nickname', nick)\r\n          http.get(\"/user/userinfo/{nickname}?nickname=\"+nick)\r\n          .then(Response => {\r\n            let otherEmail = Response.data.email;\r\n            this.upAlarmToFirebase(otherEmail);\r\n          })\r\n          .catch(Error => {\r\n              console.log(Error)\r\n          })\r\n      },\r\n      accept(num, otherNickname) {\r\n        let form = new FormData();\r\n          \r\n        form.append('num', num)\r\n        form.append('nickname', this.nickname)\r\n        form.append('mynickname', otherNickname)\r\n        form.append('agree', '1')\r\n        http.post(\"/follow/followagree\", form)\r\n        .then(Response => {\r\n          this.isfollow = 1;\r\n          // console.log(Response.data)\r\n          this.getAlarms();\r\n        })\r\n        .catch(Error => {\r\n            console.log(Error)\r\n        })\r\n      },\r\n      deny(num, otherNickname) {\r\n        let form = new FormData();\r\n          \r\n        form.append('num', num)\r\n        form.append('nickname', this.nickname)\r\n        form.append('mynickname', otherNickname)\r\n        form.append('agree', '0')\r\n        http.post(\"/follow/followagree\", form)\r\n        .then(Response => {\r\n          // console.log(Response.data)\r\n          this.getAlarms();\r\n          this.downAlarmToFirebase();\r\n          this.getUserByNickname(otherNickname);          \r\n        })\r\n        .catch(Error => {\r\n            console.log(Error)\r\n        })\r\n      }\r\n    },\r\n    data: () => ({\r\n      email : '',\r\n      nickname:'',\r\n      items: [],\r\n      alarmCount : 0,\r\n    }),\r\n    computed : {\r\n        ...mapState(['userinfo']),\r\n    }\r\n  }\r\n</script>"],"sourceRoot":"src/components/common"}]}